<!DOCTYPE html>
<html>

<head>
  <style>
    table {
      font-family: Arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 70px;
    }

    th,
    td {
      border: 1px solid #dddddd;
      text-align: center;
      padding: 5px;
    }

    th {
      background-color: #f2f2f2;
    }

    body,
    h1,
    h2,
    h3 {
      font-family: Arial, sans-serif;
      text-align: center;
    }
  </style>
</head>

<body>
  <h1>rest api</h1>
  <h2> https://my-first-server-38dm.onrender.com : כתובת השרת </h2>
  <a href="https://my-first-server-38dm.onrender.com">Server Link</a>

  <h2> הבאים resources -השרת מכיל את ה</h2>
  <h3>product resource</h3>
  <table>
    <thead>
      <tr>

        <th>method</th>
        <th>כתובת</th>
        <th>Body (אופציונלי)</th>
        <th>פרמטרים חובה</th>
        <th>ערך חזרה</th>
        <th>פרמטרים אופציונליים</th>
        <th>Crud operation</th>
        <th>מה השרת מחזיר במקרי קיצון</th>
        <th>תאור</th>
        <th>headers</th>
      </tr>
    </thead>
    <tbody>
      <tr>

        <td>Get</td>
        <td>/api/products</td>
        <td>---</td>
        <td>---</td>
        <td>products[{_id,name,size,color,company,inSale,userAdded,imgUrl,price,dateAdded,category}]</td>
        <td> itemsPerPage,page,searchText</td>
        <td>Read</td>
        <td></td>
        <td>שליפת כל המוצרים</td>
        <td>---</td>

      </tr>
      <tr>

        <td>get</td>
        <td>/api/products/:id</td>
        <td>---</td>
        <td>id- קוד מוצר </td>
        <td>מחזיר פרטי מוצר של הקוד שהתקבל</td>
        <td>---</td>
        <td>Read</td>
        <td>אם ה-id לא תקין -400<br>אם אין כזה מוצר במלאי- 404</td>
        <td>שליפת מוצר לפי id</td>
        <td>---</td>
      </tr>
      <tr>

        <td>post</td>
        <td>/api/products/</td>
        <td>{ name, size, color, company, category, price, imgUrl }</td>
        <td>---</td>
        <td>המשתמש החדש עם כל הפרטים שהוכנסו ב-body + _id,dateAdded,userAdded,token</td>
        <td>---</td>
        <td>Create</td>
        <td>אם ערכי ה-body לא עומדים בבדיקות התקינות -400<br>אם יש כפילות מוצרים-409</td>
        <td>הוספת מוצר חדש -עם הרשאת מנהל בלבד</td>
        <td>access-token</td>
      </tr>
      <tr>

        <td>Delete</td>
        <td>/api/product/:id</td>
        <td>---</td>
        <td>id קוד מוצר-</td>
        <td>המוצר שהתעדכן</td>
        <td>---</td>
        <td>Delete</td>
        <td>invalid id-400<br>no such id-404<br>חוסר התאמה בין מי שיצר למי שמחק-403</td>
        <td>מחיקת מוצר לפי קוד -דרושה הרשאת מנהל</td>
        <td>access-token</td>
      </tr>
      <tr>
      <tr>

        <td>put</td>
        <td>/api/products/:id</td>
        <td>{ name, size, color, company, category, price, imgUrl }</td>
        <td>id קוד מוצר-</td>
        <td>המוצר החדש עם כל הפרטים שהוכנסו ב-body + _id,dateAdded,userAdded</td>
        <td>---</td>
        <td>update</td>
        <td>invalid id-400<br>no such id-404</td>
        <td> עדכון מוצר -עם הרשאת מנהל בלבד</td>
        <td>access-token</td>
      </tr>


    </tbody>
  </table>

  <h3>user resource</h3>
  <table>
    <thead>
      <tr>

        <th>method</th>
        <th>כתובת</th>
        <th>Body (אופציונלי)</th>
        <th>פרמטרים חובה</th>
        <th>ערך חזרה</th>
        <th>פרמטרים אופציונליים</th>
        <th>Crud operation</th>
        <th>מה השרת מחזיר במקרי קיצון</th>
        <th>תאור</th>
        <th>headers</th>
      </tr>
    </thead>
    <tbody>
      <tr>

        <td>Get</td>
        <td>/api/users</td>
        <td>---</td>
        <td>---</td>
        <td>מערך של אובייקטים של משתמשים</td>
        <td>---</td>
        <td>Read</td>
        <td></td>
        <td>שליפת כל המשתמשים -בהרשאת מנהל בלבד</td>
        <td>access-token</td>

      </tr>
      <tr>

        <td>get</td>
        <td>/api/users/:id</td>
        <td>---</td>
        <td>id- קוד מוצר </td>
        <td>מחזיר פרטי משתמש לפי הקוד שהתקבל</td>
        <td>---</td>
        <td>Read</td>
        <td>אם ה-id לא תקין -400<br>אם אין כזה משתמש 404</td>
        <td>שליפת משתמש לפי id -בהרשאת מנהל בלבד</td>
        <td>access-token</td>
      </tr>
      <tr>
        <td>post</td>
        <td>/api/users/signup/</td>
        <td>{ userName, email, password, address: { city, street } }</td>
        <td>---</td>
        <td>המשתמש החדש עם כל הפרטים שהוכנסו ב-body + _id,token</td>
        <td>---</td>
        <td>Create</td>
        <td>אם ערכי ה-body לא עומדים בבדיקות התקינות -400<br>אם יש כפילות משתמשים-409</td>
        <td>הוספת משתמש חדש</td>
        <td>---</td>
      </tr>

      <tr>
        <td>post</td>
        <td>/api/users/</td>
        <td>{email, password}חובה-</td>
        <td>---</td>
        <td>המשתמש שנרשם עם כל הפרטים שלו+ token</td>
        <td>---</td>
        <td>Create</td>
        <td>no such user with this password/ email-404</td>
        <td>התחברות לחשבון משתמש רשום</td>
        <td>---</td>
      </tr>
    </tbody>
  </table>



  <h3>order resource</h3>
  <table>
    <thead>
      <tr>

        <th>method</th>
        <th>כתובת</th>
        <th>Body (אופציונלי)</th>
        <th>פרמטרים חובה</th>
        <th>ערך חזרה</th>
        <th>פרמטרים אופציונליים</th>
        <th>Crud operation</th>
        <th>מה השרת מחזיר במקרי קיצון</th>
        <th>תאור</th>
        <th>headers</th>
      </tr>
    </thead>
    <tbody>

      <td>Get</td>
      <td>/api/orders/allOrders</td>
      <td>---</td>
      <td>---</td>
      <td>orders[{ orderDate, deliveryDate, costumerId,address: {
        street: String,
        city: String
        },products[{_id,price,quantity}],isOrderSent}]</td>
      <td>---</td>
      <td>Read</td>
      <td>---</td>
      <td>קבלת כל ההזמנות -מנהל בלבד.</td>
      <td>access-token</td>
      </tr>
      <tr>

        <td>Get</td>
        <td>/api/orders</td>
        <td>---</td>
        <td>---</td>
        <td>orders[{ orderDate, deliveryDate, costumerId,address: {
          street: String,
          city: String
          },products[{_id,price,quantity}],isOrderSent}]</td>
        <td>---</td>
        <td>Read</td>
        <td>---</td>
        <td>קבלת כל ההזמנות של משתמש רשום</td>
        <td>access-token</td>
      </tr>
      <tr>



        <td>Post</td>
        <td>/api/orders</td>
        <td>orders[{ deliveryDate, address: {
          street: String,
          city: String
          },products[{_id,price,quantity...}]}]</td>
        <td>---</td>
        <td>orders[{ orderDate, deliveryDate, costumerId,address: {
          street: String,
          city: String
          },products[{_id,price,quantity}],isOrderSent}]</td>
        <td>---</td>
        <td>Create</td>
        <td>products do not exist-400</td>
        <td>הוספת הזמנה -משתמש רשום</td>
        <td>access-token</td>
      </tr>
      <tr>


      <tr>

        <td>Delete</td>
        <td>/api/order/:id</td>
        <td>---</td>
        <td>id</td>
        <td>המוצר שנמחק</td>
        <td>---</td>
        <td>Delete</td>
        <td>invalid id-400<br>no such id-404<br>order sent-400</td>
        <td>מחיקת הזמנה והחזרתה – מנהל או בעל ההזמנה.</td>
        <td>access-token</td>
      </tr>
      <tr>

        <td>put</td>
        <td>/api/orders/:id</td>
        <td>---</td>
        <td>id</td>
        <td>order{...isOrderSent:true}</td>
        <td>---</td>
        <td>Update</td>
        <td>invalid id-400<br>no such id-404</td>
        <td>שליחת הזמנה - מנהל בלבד.</td>
        <td>access-token</td>
      </tr>
    </tbody>
</body>

</html>